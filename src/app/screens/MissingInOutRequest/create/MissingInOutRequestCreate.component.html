<app-standard-header [title]="itemFunction?.title" [icon]="'arrow-back-outline'" [href]="'MissingInOutRequest'">
</app-standard-header>
<ion-content>
    <div style="margin-bottom:4rem;">
        <ion-item class="profile-title">
            <ion-label class="Infomation">{{'MISSINGINOUT.Infomation' | translate}}</ion-label>
            <span style="font-size: 0.9rem;
                font-weight: 500;
                text-transform: initial;
                margin-right: 0.4rem;
                opacity: 1.6;">{{'MISSINGINOUT.SoMocDaDangKy' | translate}}:</span>
            <span class="headerValue">{{Model['SoMocDaDangKy']}}</span>
        </ion-item>
        <div class="ion-padding">
            <ion-list>
                <ion-item *ngIf="!IsPageTimeSheet">
                    <app-datetime-modal class="DefaultFunction" [textLeft]="'MISSINGINOUT.WorkDay' | translate" iddatetime="WorkDayid" iddatetimetrigger="WorkDaytrigger" (selectedItem)="eventSelecteworkday($event)">
                    </app-datetime-modal>
                </ion-item>

                <ion-item class="twoColumn" *ngIf="IsPageTimeSheet">
                    <ng-container>
                        <ion-label class="list-left">{{'MISSINGINOUT.WorkDay' | translate}}</ion-label>
                        <ion-label slot="end" class="label-list-end" style="width: 100%;margin-right:0.5rem; font-weight: bold;">
                            {{Model['WorkDate']}}
                        </ion-label>
                    </ng-container>
                </ion-item>
                <ion-item class="twoColumn">
                    <ng-container>
                        <ion-label class="list-left">{{'MISSINGINOUT.ShiftName' | translate}}</ion-label>
                        <ion-label slot="end" style="text-align: left;" class="label-list-end"> {{Model['ShiftName']}}</ion-label>
                    </ng-container>
                </ion-item>

                <ion-item class="twoColumn" *ngIf="(Model?.MaxTimes == 4) || (Model?.MaxTimes == 2 && Model?.LeavePeriod != 2)">
                    <ng-container>
                        <ion-label class="list-left in-out">
                            <div>{{'MISSINGINOUT.In1' | translate}}</div>
                            <div class="in-out-end">{{Model['In1']}}</div>
                        </ion-label>
                        <ion-label slot="end" class="label-list-end in-out">
                            <div>{{'MISSINGINOUT.Out1' | translate}}</div>
                            <div class="in-out-end">{{Model['Out1']}}</div>
                        </ion-label>
                    </ng-container>
                </ion-item>

                <ion-item class="twoColumn" *ngIf="(Model?.MaxTimes == 4) || (Model?.MaxTimes == 2 && Model?.LeavePeriod == 2)">
                    <ng-container>
                        <ion-label class="list-left in-out">
                            <div>{{'MISSINGINOUT.In1' | translate}}</div>
                            <div class="in-out-end">{{Model['In2']}}</div>
                        </ion-label>
                        <ion-label slot="end" class="label-list-end in-out">
                            <div>{{'MISSINGINOUT.Out2' | translate}}</div>
                            <div class="in-out-end">{{Model['Out2']}}</div>
                        </ion-label>
                    </ng-container>
                </ion-item>
            </ion-list>
        </div>


        <ion-item class="profile-title">
            <ion-label>{{'MISSINGINOUT.TimeRoot' | translate}}</ion-label>
        </ion-item>
        <div class="ion-padding">
            <ion-list>
                <ion-item class="twoColumn" *ngIf="(Model?.MaxTimes == 4) || (Model?.MaxTimes == 2 && Model?.LeavePeriod != 2)">
                    <ng-container>
                        <ion-label class="list-left in-out" style="font-weight: bold;">
                            <div>{{'MISSINGINOUT.In1' | translate}}</div>
                            <div class="in-out-end">{{Model['RootIn1']}}</div>
                        </ion-label>
                        <ion-label class="label-list-end in-out" style="font-weight: bold;">
                            <div>{{'MISSINGINOUT.Out1' | translate}}</div>
                            <div class="in-out-end">{{Model['RootOut1']}}</div>
                        </ion-label>

                    </ng-container>
                </ion-item>

                <ion-item class="twoColumn" *ngIf="(Model?.MaxTimes == 4) || (Model?.MaxTimes == 2 && Model?.LeavePeriod == 2)">
                    <ng-container>
                        <ion-label class="list-left in-out" style="font-weight: bold;">
                            <div>{{'MISSINGINOUT.In1' | translate}}</div>
                            <div class="in-out-end">{{Model['RootIn2']}}</div>
                        </ion-label>
                        <ion-label class="label-list-end in-out" style="font-weight: bold;">
                            <div>{{'MISSINGINOUT.Out1' | translate}}</div>
                            <div class="in-out-end">{{Model['RootOut2']}}</div>
                        </ion-label>

                    </ng-container>
                </ion-item>
            </ion-list>
        </div>


        <ion-item class="profile-title">
            <ion-label>{{'MISSINGINOUT.TimeNew' | translate}}</ion-label>
        </ion-item>
        <div class="ion-padding">
            <ion-list>

                <ion-item style="margin-top: 1rem;" *ngIf="(Model?.MaxTimes == 4) || (Model?.MaxTimes == 2 && Model?.LeavePeriod != 2)">
                    <app-time-modal *ngIf="Model?.RootIn1 == null || Model?.RootIn1 == ''" class="DefaultFunction" [textLeft]="'MISSINGINOUT.In1' | translate" idtime="idSelectedIn1" idTimeShow="SelectedIn1" [myTime]="NewIn1" (selectedItem)="eventSelecteIn1($event)">
                    </app-time-modal>

                    <app-time-modal *ngIf="Model?.RootOut1 == null || Model?.RootOut1 == ''" style="width: 100%;margin-right:0.28rem;" [textLeft]="'MISSINGINOUT.Out1' | translate" idtime="idSelecteOut1" idTimeShow="SelecteOut1" [myTime]="NewOut1" (selectedItem)="eventSelecteOut1($event)">
                    </app-time-modal>

                    <ion-item class="twoColumn">
                        <ng-container>
                            <ion-label *ngIf="Model?.RootIn1 != null &&  Model?.RootIn1 != ''" class="list-left" style="font-weight: bold;">
                                {{'MISSINGINOUT.In1' | translate}} {{Model['NewIn1']}}</ion-label>
                            <ion-label *ngIf="Model?.RootOut1 != null &&  Model?.RootOut1 != ''" slot="end" class="label-list-end" style="font-weight: bold;">
                                {{'MISSINGINOUT.Out1' | translate}} {{Model['NewOut1']}}</ion-label>
                        </ng-container>
                    </ion-item>
                </ion-item>


                <ion-item style="margin-top: 1rem;" *ngIf="(Model?.MaxTimes == 4)
                                              || (Model?.MaxTimes == 2 && Model?.LeavePeriod == 2)">
                    <app-time-modal *ngIf="Model?.RootIn2 == null || Model?.RootIn2 == ''" class="DefaultFunction" [textLeft]="'MISSINGINOUT.In2' | translate" idtime="idSelectedIn2" idTimeShow="SelectedIn2" [myTime]="NewIn2" (selectedItem)="eventSelecteIn2($event)">
                    </app-time-modal>

                    <app-time-modal *ngIf="Model?.RootOut2 == null || Model?.RootOut2 == ''" style="width: 100%;margin-right:0.28rem;" [textLeft]="'MISSINGINOUT.Out2' | translate" idtime="idSelecteOut2" idTimeShow="SelecteOut2" [myTime]="NewOut2" (selectedItem)="eventSelecteOut2($event)">
                    </app-time-modal>

                    <ion-item class="twoColumn">
                        <ng-container>
                            <ion-label *ngIf="Model?.RootIn2 != null &&  Model?.RootIn2 != ''" class="list-left" style="font-weight: bold;">
                                {{'MISSINGINOUT.In2' | translate}} {{Model['NewIn2']}}</ion-label>
                            <ion-label *ngIf="Model?.RootOut2 != null &&  Model?.RootOut2 != ''" slot="end" class="label-list-end" style="font-weight: bold;">
                                {{'MISSINGINOUT.Out2' | translate}} {{Model['NewOut2']}}</ion-label>
                        </ng-container>
                    </ion-item>
                </ion-item>



                <ion-item>
                    <ion-label class="list-left">{{'MISSINGINOUT.Reason' | translate}}</ion-label>
                </ion-item>

                <ion-item class="list-left" style="padding-right: 10px;">
                    <ion-textarea class="list-left" style="padding: 1rem;
                  margin-bottom: 1rem;
                  border: 1px solid var(--ion-color-primary);
                  border-radius: 4px;" [(ngModel)]="Model['Note']" rows="4" placeholder="{{'MISSINGINOUT.WriteDownReason' | translate}}"></ion-textarea>
                </ion-item>
            </ion-list>
        </div>
    </div>
    <ion-item class="footer-checkinout">
        <ion-button style="--background:#e0e0e0;--color:#666" (click)="doPop()">
            {{"COMMON.Cancel" | translate}}
        </ion-button>
        <ion-button id='btnsubmit' (click)="eventOnSubmitRequest()">
            {{"COMMON.Submit" | translate}}
        </ion-button>
    </ion-item>
</ion-content>
<ng-template #itemTemplate let-item>
    {{item.KowName}}
</ng-template>
<ng-template #itemTemplate2 let-item>
    {{item.Caption}}
</ng-template>
<ng-template #itemTemplate3 let-item>
    {{item.Caption}}
</ng-template>
<ng-template #itemTemplate4 let-item>
    <div style="flex: 1;
    border-bottom: 1px solid #ddd;
    padding: 1rem;">
        <div style="margin-bottom: 0.6rem;">{{item.FullName}}</div>
        <div> {{item.EmployeeCode}}</div>
    </div>
</ng-template>
