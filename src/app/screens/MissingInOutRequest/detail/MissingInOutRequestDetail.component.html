<app-standard-header [title]="itemFunction?.title" [icon]="'arrow-back-outline'" [href]="'MissingInOutRequest'">
    <span id="HistoryAppoveLevel" slot="end" style="margin-right: 1rem;font-size: 1.6rem;color: #fff;" class="sap-icon sap-customer-history"></span>
</app-standard-header>
<ion-content>
    <timeline idOpen="HistoryAppoveLevel" [title]="'COMMON.HistoryApproveLevel' | translate"
    [templateLeft]="templateLeft" [templateRight]="templateRight" [ProcessID]="14" [RecordID]="RequestData?.RecordID">
    </timeline>

    <ion-item class="profile-title">
        <ion-label class="group-header">{{'MISSINGINOUT.Infomation' | translate}}</ion-label>
    </ion-item>
    <ion-item class="twoColumn">
        <ion-label class="list-left">{{'MISSINGINOUT.Status' | translate}}</ion-label>
        <ion-label slot="end" class="label-list-end">
            <div [class]="'groupContentValueCircle '+ 'groupContentValueCircle'+RequestData?.Status"></div>
            <div [class]="'groupContentValueDetail'+RequestData?.Status" style="display: inline-block;">{{RequestData?.StatusName}}</div>
        </ion-label>
    </ion-item>
    <ion-item class="twoColumn">
        <ion-label class="list-left">{{'MISSINGINOUT.RequestDate' | translate}}</ion-label>
        <ion-label slot="end" class="label-list-end">
            {{RequestData?.WorkDateView}}
        </ion-label>
    </ion-item>
    <ion-item class="twoColumn">
        <ion-label class="list-left">{{'MISSINGINOUT.ShiftName' | translate}}</ion-label>
        <ion-label slot="end" class="label-list-end" style="text-align: left;">
            {{RequestData?.ShiftName}}
        </ion-label>
    </ion-item>
    <ion-item class="twoColumn" *ngIf="(RequestData?.MaxTimes === 4) || (RequestData?.MaxTimes === 2 && RequestData?.LeavePeriod !== 2)">
        <ion-label class="list-left in-out">
            <div>{{'MISSINGINOUT.In1' | translate}}</div>
            <div class="in-out-end">{{RequestData?.In1}}</div>
        </ion-label>
        <ion-label slot="end" class="label-list-end in-out">
            <div>{{'MISSINGINOUT.Out1' | translate}}</div>
            <div class="in-out-end">{{RequestData?.Out1}}</div>
        </ion-label>
    </ion-item>

    <ion-item class="twoColumn" *ngIf="(RequestData?.MaxTimes === 4) || (RequestData?.MaxTimes === 2 && RequestData?.LeavePeriod === 2)">
        <ion-label class="list-left in-out">
            <div>{{'MISSINGINOUT.In2' | translate}}</div>
            <div class="in-out-end">{{RequestData?.In2}}</div>
        </ion-label>
        <ion-label slot="end" class="label-list-end in-out">
            <div>{{'MISSINGINOUT.Out2' | translate}}</div>
            <div class="in-out-end">{{RequestData?.Out2}}</div>
        </ion-label>
    </ion-item>

    <ion-item class="profile-title">
        <ion-label class="group-header">{{'MISSINGINOUT.TimeRoot' | translate}}</ion-label>
    </ion-item>

    <ion-item class="twoColumn" *ngIf="(RequestData?.MaxTimes === 4) || (RequestData?.MaxTimes === 2 && RequestData?.LeavePeriod !== 2)">
        <ion-label class="list-left in-out">
            <div>{{'MISSINGINOUT.In1' | translate}}</div>
            <div class="in-out-end">{{RequestData?.RootIn1}}</div>
        </ion-label>
        <ion-label slot="end" class="label-list-end in-out">
            <div>{{'MISSINGINOUT.Out1' | translate}}</div>
            <div class="in-out-end">{{RequestData?.RootOut1}}</div>
        </ion-label>
    </ion-item>

    <ion-item class="twoColumn" *ngIf="(RequestData?.MaxTimes === 4) || (RequestData?.MaxTimes === 2 && RequestData?.LeavePeriod === 2)">
        <ion-label class="list-left in-out">
            <div>{{'MISSINGINOUT.In2' | translate}}</div>
            <div class="in-out-end">{{RequestData?.RootIn2}}</div>
        </ion-label>
        <ion-label slot="end" class="label-list-end in-out">
            <div>{{'MISSINGINOUT.Out2' | translate}}</div>
            <div class="in-out-end">{{RequestData?.RootOut2}}</div>
        </ion-label>
    </ion-item>
    <ion-item class="profile-title">
        <ion-label class="group-header">{{'MISSINGINOUT.TimeNew' | translate}}</ion-label>
    </ion-item>


    <ion-item class="twoColumn" *ngIf="(RequestData?.MaxTimes === 4) || (RequestData?.MaxTimes === 2 && RequestData?.LeavePeriod !== 2)">
        <ion-label class="list-left in-out">
            <div>{{'MISSINGINOUT.In1' | translate}}</div>
            <div class="in-out-end">{{RequestData?.NewIn1}}</div>
        </ion-label>
        <ion-label slot="end" class="label-list-end in-out">
            <div>{{'MISSINGINOUT.Out1' | translate}}</div>
            <div class="in-out-end">{{RequestData?.NewOut1}}</div>
        </ion-label>
    </ion-item>

    <ion-item class="twoColumn" *ngIf="(RequestData?.MaxTimes === 4) || (RequestData?.MaxTimes === 2 && RequestData?.LeavePeriod === 2)">
        <ion-label class="list-left in-out">
            <div>{{'MISSINGINOUT.In2' | translate}}</div>
            <div class="in-out-end">{{RequestData?.NewIn2}}</div>
        </ion-label>
        <ion-label slot="end" class="label-list-end in-out">
            <div>{{'MISSINGINOUT.Out2' | translate}}</div>
            <div class="in-out-end">{{RequestData?.NewOut2}}</div>
        </ion-label>
    </ion-item>
    <ion-item class="twoColumn">
        <ion-label class="list-left">{{'MISSINGINOUT.Reason' | translate}}</ion-label>
        <ion-label slot="end" class="label-list-end">
            {{RequestData?.Note}}
        </ion-label>
    </ion-item>

    <ion-item *ngIf="RequestData?.Status === 5 && RequestData?.ReasonDetroy" class="twoColumn">
        <ion-label class="list-left">{{'LEAVE_REQUEST.ReasonDestroy' | translate}}</ion-label>
        <ion-label slot="end" class="label-list-end">
            {{RequestData?.ReasonDestroy}}
        </ion-label>
    </ion-item>
    <ion-item class="twoColumn">
        <ion-label class="list-left">{{'MISSINGINOUT.ApproveNote' | translate}}</ion-label>
        <ion-label slot="end" class="label-list-end">
            {{RequestData?.ApproveNote}}
        </ion-label>
    </ion-item>
    <ion-item class="footer-checkinout"><ion-button *ngIf="IsActivePleaseCancel" id="btnReject" class="btnReject btnRejectText" type="submit" expand="block" (click)="handleOnPleaseReject()">
        {{"LEAVE_REQUEST.PleaseCancel" | translate}}
    </ion-button></ion-item>
</ion-content>


<ng-template #templateLeft let-item>
    <div class="container-item-left">
        <div class="ApproveDate">{{item.ApprovalDate}}</div>
        <div><span [class]="'dayContent '+ 'dayContent'+item.ApprovalStatus">{{item.ApprovalStatusName}}</span></div>
    </div>
</ng-template>
<ng-template #templateRight let-item>
    <div style="display:flex;;width: 70%;">
        <ion-thumbnail slot="start" style="--border-radius: 50%;">
            <img [src]="commonHandler.ConvertPhotoUrl(item.PhotoID)" />
        </ion-thumbnail>
        <div class="container-item-right">
            <div class="FullName">{{item.EmployeeName}}</div>
            <div class="JobWname">{{item.JobWName}}</div>
            <div class="ApproveNote">
                {{item.ApprovalNote}}</div>
        </div>
    </div>
</ng-template>
