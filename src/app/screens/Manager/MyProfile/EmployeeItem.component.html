<app-standard-header [title]="'COMPONENT.MyProfile'| translate" [icon]="'arrow-back-outline'" [href]="'Manager'">
</app-standard-header>
<ion-content>
    <app-card-emp [showTeam]="tabName === CommonConst.TAB.MyTimesheet" (clickTeam)="onChangeEmployee($event)"></app-card-emp>
    <ion-segment [value]="'MANAGER.EmployeeInfo' | translate" mode="md">
        <ion-segment-button color="primary" [value]="'MANAGER.EmployeeInfo' | translate" (click)="eventSelectTab(CommonConst.TAB.Manager.EmployeeInfo)">
            <ion-label>{{'MANAGER.EmployeeInfo' | translate}}</ion-label>
        </ion-segment-button>
        <ion-segment-button color="primary" [value]="'MANAGER.PaySlip' | translate" (click)="eventSelectTab(CommonConst.TAB.Manager.PaySlip)">
            <ion-label>{{'MANAGER.PaySlip' | translate}}</ion-label>
        </ion-segment-button>
        <ion-segment-button color="primary" [value]="'MYTIMESHEET.MyTimesheet' | translate" (click)="eventSelectTab(CommonConst.TAB.MyTimesheet)">
            <ion-label>{{'MYTIMESHEET.MyTimesheet' | translate}}</ion-label>
        </ion-segment-button>
    </ion-segment>

    <ng-container *ngIf="tabName === CommonConst.TAB.Manager.EmployeeInfo">
        <ion-accordion-group [multiple]="true" [value]="['first','two','three','four','five','six','seven','eight','nine','ten']">
            <ng-container *ngIf="itemEmp.IsVisibleByEmpDirectory; then templateEmpVisible else templateEmpInformation"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpTrainBGRD"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpTrainCourse"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpWorking"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpBenefits"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpAward"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpDiscipline"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpFortune"></ng-container>
            <ng-container *ngIf="flag === 1 || flag === 2; then EmpInsurance"></ng-container>
        </ion-accordion-group>

    </ng-container>
    <ng-container *ngIf="tabName === CommonConst.TAB.Manager.PaySlip">
        <ion-item style="--padding-start:0;--inner-padding-end: 0.3rem;">
            <app-valuelist-modal style="flex: 1.7;margin:0.6rem 1rem 0 0.4rem" [arraySearch]="['TemplateName']" [template]="itemTemplatePayLip" [datas]="listTemplates" [FieldKeyInput]="'TemplateName'" [inputText]="TemplateName" (selectedItem)="onSelectTemp($event)">
            </app-valuelist-modal>
            <app-valuelist-modal style="flex: 1;margin-top: 0.6rem;" [arraySearch]="['DowCode']" [template]="itemDowPayLip" [datas]="lstDows" [FieldKeyInput]="'DowCode'" [inputText]="DowCode" (selectedItem)="onSelectMonth($event)">
            </app-valuelist-modal>
        </ion-item>

        <ion-accordion-group [multiple]="true" [value]="arrOpen">
            <ng-container *ngIf="true then templatePaylip"></ng-container>
        </ion-accordion-group>
    </ng-container>

    <ng-container *ngIf="tabName === CommonConst.TAB.MyTimesheet">
        <div class="inout-work">
            <div class="inout" [ngClass]="{'active':tabNameTimeSheet === 'working'}" (click)="eventSelectedTab('working')">
                {{'MYTIMESHEET.Working' | translate}}
            </div>
            <div class="inout" [ngClass]="{'active':tabNameTimeSheet === 'inout'} " (click)="eventSelectedTab('inout')">
                {{'MYTIMESHEET.InOut' | translate}}
            </div>
        </div>
        <hrm-calendar [templateCalendar]="templateTimeSheet" (DowCode)="ChangeDowCode($event)" [noteTemplate]="noteTemplate"></hrm-calendar>
        <h4 *ngIf="listLeaveToday?.length > 0">{{'MYTIMESHEET.WhosLeaveToday' | translate}}</h4>
        <listview [template]="templateLeaveToday" [datas]="listLeaveToday" *ngIf="listLeaveToday?.length > 0" [autoLoad]="false" classListItem="top3-timesheet" classDivContainer="employeeItem"></listview>
        <h4 *ngIf="top3ListLeave?.length > 0">{{'MYTIMESHEET.ListLeaveTop3' | translate}}</h4>
        <listview [template]="templatetop3ListLeave" [datas]="top3ListLeave" *ngIf="top3ListLeave?.length > 0" [autoLoad]="false" classListItem="top3-timesheet" classDivContainer="employeeItem"></listview>
        <h4 *ngIf="top3ListOT?.length > 0">{{'MYTIMESHEET.ListOvertimeTop3' | translate}}</h4>
        <listview [template]="templatetop3ListOT" [datas]="top3ListOT" *ngIf="top3ListOT?.length > 0" [autoLoad]="false" classListItem="top3-timesheet" classDivContainer="employeeItem"></listview>
        <h4 *ngIf="top3ListBusinessTrip?.length > 0">{{'MYTIMESHEET.ListBussinessTop3' | translate}}</h4>
        <listview [template]="templatetop3ListBusinessTrip" [datas]="top3ListBusinessTrip" *ngIf="top3ListBusinessTrip?.length > 0" [autoLoad]="false" classListItem="top3-timesheet" classDivContainer="employeeItem"></listview>

    </ng-container>

</ion-content>
<ng-template #templatePaylip>
    <ion-accordion toggleIcon="" [value]="i+1" *ngFor="let item of lstGroupTemplateDynamic,let i = index">
        <ng-container *ngIf="!item.IsDynamic">
            <ion-item slot="header" class="profile-title">
                <ion-label>{{auth.getLanguage() === 'en'? item.GroupName2 : item.GroupName}}</ion-label>
            </ion-item>
            <div class="ion-padding" slot="content">
                <ng-container *ngFor="let item2 of lstdatatemplate">
                    <ng-container *ngIf="item2.templatename === item.GroupCode">
                        <ion-list>
                            <ng-container *ngFor="let item1 of item.TemplateFields">
                                <ion-item class="twoColumn" *ngIf="item2.templatename === item1.GroupCode">
                                    <ion-label class="list-left" [style]="'color:'+item1.Color">{{auth.getLanguage() === 'vn' ? item1.FieldName : item1.FieldName2}}</ion-label>
                                    <ion-label *ngIf="item2.templatename === item.GroupCode" slot="end" class="label-list-end" [style]="'color:'+item1.Color">
                                        {{IsArray(item2.data)? (item1.Format === '0' ? FormatNum(item2.data[0][item1.FieldCode],'p') : item2.data[0][item1.FieldCode]): (item1.Format === '0' ? FormatNum(item2.data[item1.FieldCode],'p') : item2.data[item1.FieldCode])}}
                                    </ion-label>
                                </ion-item>
                            </ng-container>
                        </ion-list>
                    </ng-container>
                </ng-container>
            </div>
        </ng-container>
        <ng-container *ngIf="item.IsDynamic">
            <ion-item slot="header" class="profile-title">
                <ion-label>{{auth.getLanguage() === 'vn'? item.GroupName : item.GroupName2}}</ion-label>
            </ion-item>
            <div class="ion-padding" slot="content">
                <ng-container *ngFor="let item1 of lstdatatemplate">
                    <ng-container *ngIf="item1.templatename === item.GroupCode">
                        <ion-list>
                            <ion-item class="twoColumn" *ngFor="let item2 of item1.data">
                                <ng-container *ngFor="let item3 of item.TemplateFields,let index = index">
                                    <ion-label [style]="'color:'+item3.Color" *ngIf="index === 0" class="list-left">{{item2[item3.FieldCode]}}</ion-label>
                                    <ion-label [style]="'color:'+item3.Color" *ngIf="index !== 0" slot="end" class="label-list-end">
                                        {{item3.Format ? FormatNum(item2[item3.FieldCode]) : item2[item3.FieldCode]}}
                                    </ion-label>
                                </ng-container>
                            </ion-item>
                        </ion-list>
                    </ng-container>
                </ng-container>
            </div>
        </ng-container>
    </ion-accordion>
</ng-template>


<ng-template #itemTemplatePayLip let-item>
    {{item.TemplateName}}
</ng-template>

<ng-template #itemDowPayLip let-item>
    {{item.DowCode}}
</ng-template>

<ng-template #templateEmpVisible>
    <ion-accordion value="first" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'HomePage.MyProfile'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.FullName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile.FullName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.DepartmentName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile.DepartmentName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" *ngIf="itemEmp?.IsFieldVisibleMobile">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Mobile' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.Mobile}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Email' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.Email}}</ion-label>
                </ion-item>
                <!-- <ion-item class="twoColumn" *ngIf="IsFieldVisibleBirthday">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Birthday' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.Birthday | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsFieldVisibleJoinDate">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.JoinDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.JoinDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item> -->
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.JobWName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.JobWName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.DirectManager' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.DirectManager}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" style="--border-style:none !important">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.InDirectManager' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.InDirectManager}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>

</ng-template>
<ng-template #templateEmpInformation>
    <ion-accordion value="two" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'HomePage.MyProfile'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.FullName' | translate}}</ion-label>
                    <ion-label class="label-list-end">{{DataEmpBasicInfoProfile?.FullName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Gender' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">
                        {{DataEmpBasicInfoProfile?.Gender === 'F' ? ('EMPLOYEEINFO.Female' | translate) : (DataEmpBasicInfoProfile?.Gender === 'M'? ('EMPLOYEEINFO.Male' | translate) : '')}}
                    </ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Birthday' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.Birthday | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.MaritalName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.MaritalName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.JobWName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.JobWName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.DepartmentName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.DepartmentName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ThamNien' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{formatString(DataEmpBasicInfoProfile?.ThamNien)}}</ion-label>

                </ion-item>
                <!-- nguyên quán -->
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.NAddress' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.NAddress}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowNWardName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.PhuongXa' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.NWardName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowNDistrictName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.QuanHuyem' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.NDistrictName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowNProvinceName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.TinhThanh' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.NProvinceName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.PAddress' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.PAddress}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowPWardName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.PhuongXa' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.PWardName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowPDistrictName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.QuanHuyem' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.PDistrictName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowPProvinceName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.TinhThanh' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.PProvinceName}}</ion-label>

                </ion-item>
                <!-- tạm trú -->
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.TAddress' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.TAddress}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowTWardName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.PhuongXa' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.TWardName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowTDistrictName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.QuanHuyem' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.TDistrictName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn" *ngIf="IsShowTProvinceName">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.TinhThanh' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end normal">{{DataEmpBasicInfoProfile?.TProvinceName}}</ion-label>
                </ion-item>
                <!-- end trú -->
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Mobile' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.Mobile}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.SoDTNguoiLienHe' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.SoDTNguoiLienHe}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Email' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.Email}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IDCardNo' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.IDCardNo}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IssuedDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.IssuedDate | date: 'dd/MM/yyyy'}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IssuedPlaceName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.IssuedPlaceName}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IDCardNo2' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.IDCardNo2}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IssuedDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.IssuedDate2 | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IssuedPlaceName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.IssuedPlaceName2}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.JoinDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.JoinDate | date: 'dd/MM/yyyy'}}</ion-label>

                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.OfficialDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.OfficialDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" style="--border-style:none !important">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.SignedDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{DataEmpBasicInfoProfile?.SignedDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>

<ng-template #EmpTrainBGRD>
    <ion-accordion value="three" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpTrainBGRD'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpTrainBGRD" [ngClass]="{'lastitem':DataEmpTrainBGRD.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.TrainLevelName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.TrainLevelName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.TrainCvrgName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.TrainCvrgName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.TrSupplierName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.TrSupplierName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.IssuedDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.CerIssuedDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Rank' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.RankName}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>

<ng-template #EmpTrainCourse>
    <ion-accordion value="four" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpTrainCourse'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpTrainCourse" [ngClass]="{'lastitem':DataEmpTrainCourse.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.TrainCourseName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.TrainCourseName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.FromDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.FromDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ToDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.ToDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Rank' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.RankName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Note' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.Note}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>

<ng-template #EmpWorking>
    <ion-accordion value="five" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpWorking'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpWorking" [ngClass]="{'lastitem':DataEmpWorking.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.SoQuyetDinh' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.SoQuyetDinh}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.AppointName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.AppointName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.JobWName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.JobWName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" *ngIf="item?.IsShowJobWOld === true || item?.IsShowJobWOld === 1">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Rank' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.JobWNameOld}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ChucVu' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.JobPosName}}</ion-label>
                </ion-item>

                <ion-item class="twoColumn" *ngIf="item?.IsShowJobPosOld === true || item?.IsShowJobPosOld === 1">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ChucVuCu' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.JobPosName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.DepartmentName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.DeparmentFullName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn" *ngIf="item?.IsShowDepOld === true || item?.IsShowDepOld === 1">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.DepartmentNameOld' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.DeparmentFullNameOld}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.BeginDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.BeginDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.EndDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.EndDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>

<ng-template #EmpBenefits>
    <ion-accordion value="six" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpBenefits'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpBenefits" [ngClass]="{'lastitem':DataEmpBenefits.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.RealSalary' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{FormatHandler.formatNum(item.RealSalary,user, 'p')}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.BeginDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.EffectDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.EndDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.EndDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>
<ng-template #EmpAward>
    <ion-accordion value="seven" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpAward'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpAward" [ngClass]="{'lastitem':DataEmpAward.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.Reason' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.Reason}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.AwardName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.AwardName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.EndDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.AwardDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>
<ng-template #EmpDiscipline>
    <ion-accordion value="eight" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpDiscipline'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpDiscipline" [ngClass]="{'lastitem':DataEmpDiscipline.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.DisciplineContent' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.DisciplineContent}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.DiscName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.DiscName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.FromTime' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.FromTime | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ToTime' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.ToTime | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>

<ng-template #EmpFortune>
    <ion-accordion value="nine" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpFortune'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpFortune" [ngClass]="{'lastitem':DataEmpFortune.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.FortuneName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.FortuneName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ValueFortune' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.ValueFortune}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ManagedBy' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.ManagerName}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.ReceivedDate' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.ReceivedDate | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.UsedTime' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.UsedTime}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.Note' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.Note | date: 'dd/MM/yyyy'}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>
<ng-template #EmpInsurance>
    <ion-accordion value="ten" toggleIcon="arrow-down">
        <ion-item slot="header" class="profile-title">
            <ion-label>{{'EMPLOYEEINFO.EmpInsurance'| translate}}</ion-label>
        </ion-item>
        <div class="ion-padding" slot="content">
            <ion-list *ngFor="let item of DataEmpInsurance" [ngClass]="{'lastitem':DataEmpInsurance.length > 1}">
                <ion-item class="twoColumn">
                    <ion-label class="list-left" class="list-left">{{'EMPLOYEEINFO.SIBook' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.SIBook}}</ion-label>
                </ion-item>
                <ion-item class="twoColumn">
                    <ion-label class="list-left">{{'EMPLOYEEINFO.WorkCenterName' | translate}}</ion-label>
                    <ion-label slot="end" class="label-list-end">{{item?.WorkCenterName}}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-accordion>
</ng-template>



<ng-template #templateTimeSheet let-view>
    <div *ngIf="tabNameTimeSheet === 'inout'" (click)="onDayPress(view.date)" [ngClass]="{ 'triangle':getIsViewScan(view.date)}">
        <p class="calendar-day " [ngStyle]="getDateStyle(view.date) ">
            {{view.label}}
        </p>
        <div (click)="onScanTimeMore(view.date)" style="font-size: 0.6rem;color: var(--text-primary);padding-bottom: 0.2rem;">
            <div [innerHTML]="InitStateInOut(view.date)"></div>
        </div>
    </div>
    <p class="calendar-day-working " *ngIf="tabNameTimeSheet==='working'">{{view.label}}
        <span style="font-size: 0.55rem; " [innerHTML]="InitStateInOut(view.date)"></span>
    </p>
</ng-template>


<ng-template #noteTemplate>
    <ion-item lines="none " class="calendar-note " [ngClass]="{ 'show-note':isDetailNote} " *ngIf="tabNameTimeSheet==='inout' && !IsTemplateDefault ">
        <div *ngIf="isDetailNote" style="width: 100%; ">
            <ion-item>
                <span class="circle Holiday "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Holiday' | translate}}</ion-label>
                <span class="circle Leave "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Leave' | translate}}</ion-label>
            </ion-item>
            <ion-item>
                <span class="circle Travel "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Travel' | translate}}</ion-label>
                <span class="circle Missing "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Missing' | translate}}</ion-label>
            </ion-item>
            <ion-item>
                <span class="circle LateEarly "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.LateEarly' | translate}}</ion-label>
                <span class="circle Current "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Current' | translate}}</ion-label>
            </ion-item>
            <ion-item>
                <span class="circle LateEarlyAndMissing "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.LateEarlyAndMissing' | translate}}</ion-label>
            </ion-item>
        </div>
        <ion-icon style="color:var(--ion-color-primary) " name="information-circle-outline" slot="end" (click)="showNote() "></ion-icon>
    </ion-item>

    <ion-item style="--padding-start:0 " lines="none " class="show-note " *ngIf="tabNameTimeSheet==='inout' && IsTemplateDefault ">
        <div style="width:100%; ">
            <ion-item>
                <span class="circle Missing "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Missing' | translate}}</ion-label>
                <span class="circle LateEarlyAndMissing "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.ThieuCong' | translate}}</ion-label>
            </ion-item>
            <ion-item>
                <span class="circle Current "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Current' | translate}}</ion-label>
                <span class="circle Holiday "> </span>
                <ion-label class="ion-label-note ">{{'MYTIMESHEET.Holiday' | translate}}</ion-label>
            </ion-item>
        </div>
    </ion-item>


    <ion-item style="--padding-start:0 " lines="none " class="show-note " *ngIf="tabNameTimeSheet==='working' ">
        <div style="width: 100%; ">
            <ion-item *ngFor="let item of listKow " class="ion-label-note ">
                <span>{{item.KowCode}}: </span>
                <ion-label> {{item.KowName}}</ion-label>
            </ion-item>
        </div>
    </ion-item>
</ng-template>

<ng-template #templateLeaveToday let-item>
    <ion-thumbnail slot="start">
        <img style="border-radius:50% " [src]="CommonHandler.ConvertPhotoUrl(item?.PhotoID) " />
    </ion-thumbnail>
    <ion-card-header mode="md">
        <ion-card-title class="name ">{{item?.EmployeeName}}</ion-card-title>
        <div class="jobwname ">{{('EMPLOYEEINFO.JobWName' | translate) +': '}}<span>{{item?.JobWName}}</span></div>
    </ion-card-header>
    <ion-item class="time-top3" slot="end">
        <span>{{item?.DayNum}} {{'COMMON.Day' | translate}}</span>
    </ion-item>
</ng-template>
<ng-template #templatetop3ListLeave let-item>
    <ion-thumbnail slot="start">
        <img style="border-radius:50% " [src]="CommonHandler.ConvertPhotoUrl(item?.PhotoID)" />
    </ion-thumbnail>
    <ion-card-header mode="md">
        <ion-card-title class="name">{{item?.EmployeeName}}</ion-card-title>
        <div class="jobwname">{{('EMPLOYEEINFO.JobWName' | translate) +': '}}<span>{{item?.JobWName}}</span></div>
    </ion-card-header>
    <ion-item class="time-top3" slot="end">
        <span>{{item?.DayNum}} {{'COMMON.Day' | translate}}</span>
    </ion-item>
</ng-template>
<ng-template #templatetop3ListOT let-item>
    <ion-thumbnail slot="start">
        <img style="border-radius:50% " [src]="CommonHandler.ConvertPhotoUrl(item?.PhotoID) " />
    </ion-thumbnail>
    <ion-card-header style="flex:1;text-transform: capitalize;" mode="md">
        <ion-card-title class="name">{{item?.EmployeeName}}</ion-card-title>
        <div class="jobwname">{{('EMPLOYEEINFO.JobWName' | translate) +':'}}<span>{{item?.JobWName}}</span></div>
    </ion-card-header>
    <ion-item class="time-top3" slot="end">
        <span>{{item?.DayNum}} {{'COMMON.Hour' | translate}}</span>
    </ion-item>
</ng-template>
<ng-template #templatetop3ListBusinessTrip let-item>
    <ion-thumbnail slot="start">
        <img style="border-radius:50% " [src]="CommonHandler.ConvertPhotoUrl(item?.PhotoID) " />
    </ion-thumbnail>
    <ion-card-header mode="md">
        <ion-card-title class="name">{{item?.EmployeeName}}</ion-card-title>
        <div class="jobwname">{{('EMPLOYEEINFO.JobWName' | translate) +': '}}<span>{{item?.JobWName}}</span></div>
    </ion-card-header>
    <ion-item class="time-top3" slot="end">
        <span>{{item?.DayNum}} {{'COMMON.Day' | translate}}</span>
    </ion-item>
</ng-template>